Schematic and PCB Design
========================

In general the circuit design is very simple, the block diagram below shows each subsystem that makes up the entire circuit.

.. figure:: Pictures/BlockDiag.png
   :width: 400px
   :align: center
   :height: 125px
   :alt: Block Diagram
   :figclass: align center

   Overall circuit Block Diagram

In this circuit there is a MPPT charge controller that charges the attached 1S Lipo Battery(3.2V @ 0% to 4.2V @ 100%) which is then boosted to 5V to charge anything attached to the USB output.  

MPPT Charging Circuit
^^^^^^^^^^^^^^^^^^^^^

Many IC's exist out there that are able to do MPPT tracking for small solar cells like the 2.5W panel we are using. In order to simplify the design of the circuit I chose an existing IC that would do MPPT for me. Researching existing IC's I found that the best IC for what I need is the LTC3652. The LTC3652 is a readily avaliable IC on digikey and is made by Linear Technologies. There do exist chinese clones of this chip however they were not as readily avaliable and so my design was based around the LTC3652 instead. :download:`pdf <Datasheets/LT3652.pdf>`



Results
-------


Design Files
------------

Schematic and PCB
^^^^^^^^^^^^^^^^^
In order to avoid the risk of a picture being outdated I am just going to have a link to the repository where the schematic and PCB files are located `here <https://github.com/cosgais/Solar-Charger/tree/master/ChargePCB>`_. However, I would recommend cloning the repository and opening the .pro in KICAD. 
If KICAD is not already installed it is very simple to install and can be downloaded `here <http://www.kicad-pcb.org/>`_.

BOM
^^^
Bill of materials from this project is located on the repository and was generated by digikey. Meaning if you have a digikey account you should be able to import the excel file into your account and all the correct parts will be added. Excel file is located `Here <https://github.com/cosgais/Solar-Charger/tree/master/ChargePCB/BOM>`_.

Simulation Files
^^^^^^^^^^^^^^^^
Linear Technologies makes a great simulation software called LTSpice which includes all of the IC's that they manufacture. Having these models available makes the design process much simpler. If you want to run the simulation files first install the LTSpice software and then open the .asc files from the repository. 

Simulation files can be found `Here <https://github.com/cosgais/Solar-Charger/tree/master/LTC3652%20Simulation>`_. 
